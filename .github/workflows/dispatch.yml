name: Permissions Anchor Test

on: 
 - workflow_dispatch
 - pull_request

# Define a reusable permissions block
permissions: &base_permissions
  contents: read
  issues: read

jobs:
  lint:
    runs-on: ubuntu-latest
    permissions: &base_permissions write-all   # Explicitly override
    steps:
      - run: echo "Lint job has read-only perms, no actions perms"

  release:
    runs-on: ubuntu-latest
    permissions: *base_permissions
    steps:
      - run: echo "Release job can write contents but only read issues"
